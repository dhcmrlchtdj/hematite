早上想到，随手写两句。

关于标准库

JS 中部分 API 是自下而上的，把社区或其他社区的实践吸收到标准中。
典型像 jQuery 到 DOM，其他还有 Promise，Async/Await 之类的特性，lodash 之类的扩充工具。

而另一些，完全是自上而下的，搞出残废的标准。
典型的有 import/export，Node 端还可以靠预处理、靠版本更新，前端呢，Module loader 都没有标准的实现。
其他像 class/let 之类的语法，完全的意义不明。

---

和 js 没太大关系

这两天在看 swift，一个感觉是语法好多。
我是认为语法核心应该尽可能的简单、统一。
像 `...` 这种语法，完全可以由标准库来实现，没必要作为语法的一部分吧。

另外，包管理器似乎还在开发，这点也很不友好。
语言应该是小的语法核心，小的标准库，丰富的周边库才对。
大量的库可以通过包管理器去更新，而不是打包在版本里。

模块，应该有完整的命名空间隔离。
然后可以选择性地依赖相同模块的不同版本。
版本方面，语义化版本号根本并没那么可靠吧，还是应该默认锁死版本才对。

---

还是和 js 没关系，主要是 swift。

1. 即将发布的 swift3 不兼容 swift2.2，具体改了什么没仔细看。
其实我个人对向后兼容没什么兴趣。
但 python3/python2 和 lua5.3/luajit 都是升级不成功的例子吧。
只有 js 这种激进的社区，没有条件也要创造条件，而且什么特性都死命往里加。
不过 swift 没有那么大的包袱，而且 linux 的支持会更好些，感觉还是可以试试。

2. 这两天看 swift 的感觉，语法元素太多。
断断续续看了两三天了，还在看很基础的部分。
虽然这个算是我自己的问题。

3. 自带方法、标准库，都好小。
可能写 iOS 的同学，或者对 OC 比较熟悉的同学，没有这种感觉。
随便看了一下 swift 语法，然后想写一个 swapview 练练手。
发现这不好搞，那不好弄……文件处理、字符串处理，都只能 google……
在 mac 上测试得差不多了，跑到 docker 里跑一下，发现 linux 下没有完整的 Foundation 支持。
真的是不会再爱了……
只能说，swift 的目标就不是通用的编程语言。

---

关于 lua

有 math.floor／math.ceil，但是没有 math.round。
搜了一下，邮件列表里居然还有争论是否需要 math.round。
然后有人回复说 `math.floor(n) = -math.ceil(-n)` 所以 ceil/floor 也可以去掉的一个。
哈哈哈

`elseif` 也算是个槽点吧，和 python 一样没有简单明了的 else if，非要奇怪组合。

---

关于 swift

终于把 swift 浏览完了。后面看得比较快。
看一个语言应该关注什么呢。

基本类型
基本的逻辑语句
类型和继承
extension 扩展对象
protocol 定义接口
泛型
异常处理
ARC
optional chaining

很特别的一点是 nil 机制吧。
optional chaining 和 optional value，到处 `?` 和 `!`。
感觉确实能简化很多东西。

其他的，ARC 虽然没接触过，但是 weak reference 这种东西还是知道的。

再剩下的，其实就不是很感兴趣了。
swift 的学习，可能到这就告一段落吧。

---

关于 lua

lua 的遍历太反直觉了，想简单遍历个字符串都不行。
有时候想想，python 确实是个优雅的语言。

---

这次是 scheme

重新看 sicp，开始看 tspl。
小核心这点非常赞同。

不过，lambda 的语法，太绕了……
带不带括号、一个参数的情况、多个参数的情况，再加上 define。
我到底加不加括号呢……

---

http://www.chriskrycho.com/rust-and-swift.html
http://typeof.net/2014/c/cn-why-language-x-is-better-than-y.html

人老了之后，就很难接受新事务。
比如 swift 比如 lua 比如 es6，满眼都是缺点，用起来都是不满。
然后看到什么东西，都拉来作为自己不满的佐证。

然后，继续看和学吧，直到满意为止。
这么无聊的世界，还有什么其他好做的呢……

---

rust 看了好几天了。
就教程来说，语法章节都很短小，但是划分出来的数量远比 swift 要多。

感觉上，和前面那个对比文说得很相似，rust 暴露了更多的细节。
但是，确实概念太多了……

感觉 ownership 这个东西确实很有趣，但非系统编程，我宁可要 swift 的 ARC。
另外 trait 也是个有趣的东西，不知道实际用起来，会不会比较麻烦，
引入依赖时是不是要大量的 use 语句。

基本所有语句都是 expression 让我感觉语言本身更加统一。

其他也没什么想说的了，也准备放弃了……
感觉现在多看这些东西，对知识体系的扩展帮忙很有限……
当然，确实知道了不少新概念，知道现在的新语言喜欢哪些特性。
但是，果然还是把自己做起来再说。

如何处理 impl/extension 的污染问题，还是很值得参考的。
