# permission

---

一般网站的权限控制需求，应该都不会超过 mysql 的权限模式。

比如项目对应表，项目组对应库，项目细分权限对应数据库语句权限。
或者用户对应表，用户组对应库，用户细分权限对应数据库语句权限。

（另外，如果模型合适的话，unix 的文件权限也是一个很好的参考对象。owner/group/others

---

那么，应该如何表示、设置、查询权限呢？

最直接的想法。
输入“操作”和“用户”，输出“相关权限设置”，将权限过一遍就知道用户能否操作了。
这里复杂度可能来自第一步查询操作。
操作可能有不同分层。
用户可能有不同角色（用户组、标签）。

项目确定后，操作 X 的权限要求，应该会呈现出线性结构。

- 是否有该项目，操作 X 的权限
- 是否有该项目，任意操作的权限
- 是否有该项目组，操作 X 的权限
- 是否有该项目组，任意操作的权限
- 是否有整个系统，任意操作的权限

这些判断的主语，应该是用户或角色。

最后，权限大概会表示成这样。
- `role , (project | projects | *) , (action | actions | *)`
- `user , role`
- `project , projects`
- `action , actions`
项目对应的项目组，操作对应的分类，最终映射到某种角色。
